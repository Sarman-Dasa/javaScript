<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Validation</title>
    <style>
        span{
            color: red;
            display: block;
        }
    </style>
    <script>

        function setError(id, error) {
            document.getElementById(id).innerHTML = error;
        }
        
        function clearError() {
            errors = document.getElementsByTagName('span');
            for (let error of errors)
                error.innerHTML = "";
        }
        function validation() {
            clearError();
            var result = true;
            var name            = document.getElementById('userName').value.trim();
            var email           = document.getElementById('email').value;
            var password        = document.getElementById('password').value;
            var confirmPassword = document.getElementById('confirmpassword').value;

            var nameExpression = /^[A-Za-z]+$/;
            if(name.length == 0) {

                setError ("nameError", "Name is required!!!");
                result =  false;

            } else if(!name.match(nameExpression)) {

                setError ("nameError","Please enter valid name!!!!");
                result = false;

            } if(email.length>30) {

                setError ("emailError","Email data are so long!!!");
                result = false;

            } if(password.length == 0) {

                setError("passwordError", "password fileds is reqiured");
                result = false;

            } if(confirmPassword.length == 0) {

                setError("confirmpasswordError", "confirm password fileds is reqiured");
                result = false;

            } if(password.length < 8) {

                setError("passwordError","password must be at least 8 characters");
                result = false;

            } else if(password.search(/[a-z]/i) < 0) {

                setError("passwordError","password must contain at least one letter.");
                result = false;

            } else if (password.search(/[0-9]/) < 0) {
                
                setError("passwordError","password must contain at least one digit.");
                result = false;

            } else if (confirmPassword != password) {

                setError("confirmpasswordError","password and confirm password does not match");
                result = false;

            }
            return result;
        }
    </script>

</head>
<body>
    <form action="calculate.html" onsubmit="return validation()">
        <table>
            <tr>
                <th colspan="2">Form Validation</th>
            </tr>

            <tr>
                <td> Enter Name </td>
                <td> 
                    <input type="text" name="username" id="userName" required>
                    <span id="nameError"></span> 
                </td>
            </tr>

            <tr>
                <td> Enter Email </td>
                <td> 
                    <input type="email" name="email" id="email" required>
                    <span id="emailError"></span> 
                </td>
            </tr>

            <tr>
                <td> Enter Phone </td>
                <td>
                    <input type="tel" name="phone" id="phone" required pattern="[6-9]{2}[0-9]{8}">
                    <span id="emailError"></span>
                </td>
            </tr>

            <tr>
                <td>Password</td>
                <td>
                    <input type="password" name="password" id="password">
                    <span id="passwordError"></span>
                </td>
            </tr>

            <tr>
                <td>Confirm Password</td>
                <td>
                    <input type="password" name="confirmpassword" id="confirmpassword">
                    <span id="confirmpasswordError"></span>
                </td>
            </tr>

            <tr>
                <td>
                    <input type="submit" name="submit" value="submit">
                </td>
            </tr>
        </table>
    </form>
</body>
</html>